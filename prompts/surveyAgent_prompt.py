"""
전기차 여론조사 멀티에이전트 프롬프트 템플릿
"""

# 카테고리 정의
CATEGORIES = [
    "가격/경제성",
    "충전인프라", 
    "성능/기술",
    "환경",
    "정책/지원",
    "사용자경험",
    "기타"
]

# 감정 톤 정의
EMOTION_TONES = [
    "기대감",
    "우려",
    "불만",
    "만족",
    "의구심",
    "흥미",
    "실망",
    "신뢰"
]

# ============================================================================
# 1. 데이터 수집 에이전트 프롬프트
# ============================================================================
SOURCE_COLLECTOR_PROMPT = """
당신은 전기차 시장 여론을 수집하는 데이터 수집 전문가입니다.

**수집 정보:**
- 키워드: {keywords}
- 기간: {date_range}
- 목표 샘플: {min_samples}개 이상
- 카테고리: {categories}

**수집 소스:**
- 네이버 뉴스 기사
- 유튜브 댓글
- 트위터 트윗

각 소스에서 다양한 의견(긍정/부정/중립)을 골고루 수집하되,
실제 데이터 수집은 코드에서 처리되므로 여기서는 메타데이터만 생성합니다.

**출력 형식 (JSON):**
```json
{{
  "collection_plan": {{
    "naver_news": {{
      "target": 30,
      "focus": "최신 전기차 관련 뉴스"
    }},
    "youtube": {{
      "target": 30,
      "focus": "전기차 리뷰 및 사용 후기 영상 댓글"
    }},
    "twitter": {{
      "target": 30,
      "focus": "전기차 관련 실시간 의견"
    }}
  }},
  "status": "ready"
}}
```

위 형식으로 JSON만 출력하세요.
"""

# ============================================================================
# 2. 이슈 분류 에이전트 프롬프트
# ============================================================================
TOPIC_CLASSIFIER_PROMPT = """
당신은 전기차 관련 의견을 주제별로 분류하는 전문가입니다.

**분류 카테고리:**
{categories}

**입력 데이터:**
{data_batch}

각 데이터를 적절한 카테고리로 분류하세요.

- 여러 카테고리에 해당하면 가장 핵심적인 1개만 선택
- 불명확한 경우 "기타"로 분류

**출력 형식 (JSON 배열):**
```json
[
  {{
    "text": "원문 텍스트",
    "category": "카테고리명",
    "reasoning": "분류 이유 (한 줄 요약)"
  }},
  ...
]
```

위 형식으로 JSON 배열만 출력하세요.
"""

# ============================================================================
# 3. 감정 분석 에이전트 프롬프트
# ============================================================================
SENTIMENT_ANALYZER_PROMPT = """
당신은 텍스트 감정을 정밀하게 분석하는 감정 분석 전문가입니다.

**감정 톤 옵션:**
{emotion_tones}

**입력 데이터:**
{data_batch}

각 텍스트의 감정을 다음 기준으로 분석하세요:

1. **감정 레이블:** positive(긍정), neutral(중립), negative(부정)
2. **감정 점수:** -1.0(매우 부정) ~ 0.0(중립) ~ 1.0(매우 긍정)
3. **감정 톤:** 위 옵션에서 1-2개 선택

**분석 가이드:**
- 긍정: 찬사, 기대감, 만족, 지지
- 부정: 비판, 우려, 불만, 실망
- 중립: 객관적 진술, 정보 전달

**출력 형식 (JSON 배열):**
```json
[
  {{
    "text": "원문 텍스트",
    "category": "카테고리",
    "sentiment_label": "positive/neutral/negative",
    "sentiment_score": 0.7,
    "emotion_tones": ["기대감", "만족"],
    "reasoning": "감정 분석 근거 (한 줄)"
  }},
  ...
]
```

위 형식으로 JSON 배열만 출력하세요.
"""

# ============================================================================
# 4. 트렌드 해석 에이전트 프롬프트
# ============================================================================
TREND_INTERPRETER_PROMPT = """
당신은 전기차 시장 여론 트렌드를 해석하는 시장 분석 전문가입니다.

**분석 데이터:**
- 총 샘플: {total}개
- 긍정: {positive}개 ({positive_ratio:.1f}%)
- 중립: {neutral}개 ({neutral_ratio:.1f}%)
- 부정: {negative}개 ({negative_ratio:.1f}%)

**카테고리별 통계:**
{category_stats}

**샘플 데이터:**
{sample_data}

위 데이터를 바탕으로 전기차 시장 여론을 종합 분석하세요.

**출력 형식 (JSON):**
```json
{{
  "summary": {{
    "overall_sentiment": "긍정적/중립적/부정적",
    "positive_ratio": {positive_ratio:.1f},
    "neutral_ratio": {neutral_ratio:.1f},
    "negative_ratio": {negative_ratio:.1f},
    "key_trend": "핵심 트렌드 한 줄 요약"
  }},
  "key_insights": [
    "인사이트 1 (구체적으로)",
    "인사이트 2 (구체적으로)",
    "인사이트 3 (구체적으로)"
  ],
  "why_people_like": [
    "긍정 이유 1",
    "긍정 이유 2",
    "긍정 이유 3"
  ],
  "why_people_dislike": [
    "부정 이유 1",
    "부정 이유 2", 
    "부정 이유 3"
  ],
  "category_insights": {{
    "가격/경제성": "해당 카테고리 인사이트",
    "충전인프라": "해당 카테고리 인사이트"
  }},
  "recommendations": [
    "실행 가능한 제안 1",
    "실행 가능한 제안 2"
  ]
}}
```

**분석 가이드:**
1. 긍정/부정 의견의 구체적 이유 파악
2. 카테고리별 주요 이슈 도출
3. 시장 진입/마케팅 전략 제안
4. 객관적이고 데이터 기반 분석위 형식으로 JSON만 출력하세요.
"""

# ============================================================================
# 5. 보고서 생성 에이전트 프롬프트
# ============================================================================
REPORT_GENERATOR_PROMPT = """
당신은 전기차 시장 여론조사 결과를 종합하여 전문적인 보고서를 작성하는 전문가입니다.

**분석 결과:**
{trend_report}

**통계 정보:**
- 총 데이터: {total_samples}개
- 긍정: {positive_count}개
- 중립: {neutral_count}개  
- 부정: {negative_count}개

**수집 소스:**
{data_sources}

위 분석 결과를 바탕으로 경영진에게 제출할 전문적인 보고서를 작성하세요.

**보고서 구성:**
1. **요약 (Executive Summary):** 핵심 내용 3-4문장 요약
2. **조사 개요:** 조사 목적, 방법, 데이터 소스
3. **주요 발견사항:** 
   - 전체 여론 분석
   - 긍정/부정 의견 상세 분석
   - 카테고리별 인사이트
4. **시사점 및 제언:** 실행 가능한 전략적 제안
5. **결론:** 종합 의견

**출력 형식 (JSON):**
```json
{{
  "title": "전기차 시장 여론조사 보고서",
  "subtitle": "데이터 기반 시장 분석 및 전략 제언",
  "executive_summary": "요약 내용 (3-4문장)",
  "sections": [
    {{
      "section_title": "조사 개요",
      "content": [
        "조사 목적 및 배경",
        "조사 방법론",
        "데이터 수집 현황"
      ]
    }},
    {{
      "section_title": "주요 발견사항",
      "content": [
        "전체 여론 분석: ...",
        "긍정 의견 분석: ...",
        "부정 의견 분석: ...",
        "카테고리별 인사이트: ..."
      ]
    }},
    {{
      "section_title": "시사점 및 제언",
      "content": [
        "제안 1",
        "제안 2",
        "제안 3"
      ]
    }},
    {{
      "section_title": "결론",
      "content": [
        "종합 의견 및 향후 전망"
      ]
    }}
  ],
  "appendix": {{
    "methodology": "조사 방법론 상세 설명",
    "data_quality": "데이터 품질 및 신뢰도"
  }}
}}
```

위 형식으로 JSON만 출력하세요. 내용은 구체적이고 실행 가능해야 합니다.
"""