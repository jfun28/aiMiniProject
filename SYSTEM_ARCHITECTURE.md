# ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë¬¸ì„œ

## ğŸ¯ ì „ì²´ ì‹œìŠ¤í…œ í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì‚¬ìš©ì ì‹¤í–‰                              â”‚
â”‚                      python main.py                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Supervisor Agent                              â”‚
â”‚                   (ì¡°ìœ¨ì & ì¡°ì •ì)                              â”‚
â”‚                                                                  â”‚
â”‚  ì—­í• : 4ê°œ ì „ë¬¸ ì—ì´ì „íŠ¸ë¥¼ Fan-Out/Fan-In íŒ¨í„´ìœ¼ë¡œ ì¡°ìœ¨         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Fan-Out (ë³‘ë ¬ ì‹¤í–‰)                         â”‚
â”‚                ThreadPoolExecutorë¡œ ë™ì‹œ ì‹¤í–‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚                  â”‚                  â”‚
        â–¼                  â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Survey     â”‚  â”‚   Market     â”‚  â”‚   Policy     â”‚  â”‚   Company    â”‚
â”‚   Agent      â”‚  â”‚   Agent      â”‚  â”‚   Agent      â”‚  â”‚   Agent      â”‚
â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚
â”‚ ì—¬ë¡ ì¡°ì‚¬ë¶„ì„  â”‚  â”‚ ì‹œì¥í˜„í™©ë¶„ì„  â”‚  â”‚ ì •ì±…ê·œì œë¶„ì„  â”‚  â”‚ ê¸°ì—…ê²½ìŸë¶„ì„  â”‚
â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚
â”‚ â€¢ ë„¤ì´ë²„ë‰´ìŠ¤ â”‚  â”‚ â€¢ ê¸€ë¡œë²Œì‹œì¥ â”‚  â”‚ â€¢ ë³´ì¡°ê¸ˆì •ì±… â”‚  â”‚ â€¢ Tesla      â”‚
â”‚ â€¢ ìœ íŠœë¸ŒëŒ“ê¸€ â”‚  â”‚ â€¢ ì§€ì—­ë³„ë¶„ì„ â”‚  â”‚ â€¢ ë‚´ì—°ê¸°ê´€   â”‚  â”‚ â€¢ í˜„ëŒ€ì°¨     â”‚
â”‚ â€¢ íŠ¸ìœ„í„°     â”‚  â”‚ â€¢ íŒë§¤ëŸ‰ì¶”ì´ â”‚  â”‚   ê·œì œ       â”‚  â”‚ â€¢ BYD        â”‚
â”‚              â”‚  â”‚ â€¢ ê°€ê²©íŠ¸ë Œë“œ â”‚  â”‚ â€¢ ì¶©ì „ì¸í”„ë¼ â”‚  â”‚ â€¢ ì‹œì¥ì ìœ ìœ¨ â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                 â”‚                 â”‚
       â”‚                 â”‚                 â”‚                 â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Fan-In (ê²°ê³¼ ìˆ˜ì§‘)                          â”‚
â”‚                      4ê°œ AgentResult í†µí•©                        â”‚
â”‚                                                                  â”‚
â”‚  â€¢ survey_result   : AgentResult (status, data, summary)        â”‚
â”‚  â€¢ market_result   : AgentResult (status, data, summary)        â”‚
â”‚  â€¢ policy_result   : AgentResult (status, data, summary)        â”‚
â”‚  â€¢ company_result  : AgentResult (status, data, summary)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Supervisor Agent (ê²€ì¦ & ë°˜í™˜)                      â”‚
â”‚                  SupervisedState ë°˜í™˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Report Generator Agent                             â”‚
â”‚                 (ìµœì¢… ë³´ê³ ì„œ ìƒì„±)                                â”‚
â”‚                                                                  â”‚
â”‚  1. 4ê°œ ì—ì´ì „íŠ¸ ê²°ê³¼ ì¶”ì¶œ ë° í¬ë§·íŒ…                             â”‚
â”‚  2. LLMì„ í†µí•œ ì¢…í•© ë¶„ì„ ë° ë³´ê³ ì„œ ì‘ì„±                          â”‚
â”‚  3. Markdown ë³´ê³ ì„œ ìƒì„± ë° ì €ì¥                                 â”‚
â”‚  4. PDF ë³´ê³ ì„œ ìƒì„± (PDFGenerator ì‚¬ìš©)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ìµœì¢… ë¦¬í¬íŠ¸ ìƒì„±                            â”‚
â”‚                                                                  â”‚
â”‚  ğŸ“„ ev_market_report_YYYYMMDD_HHMMSS.md                         â”‚
â”‚  ğŸ“„ ev_market_report_YYYYMMDD_HHMMSS.pdf                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ ìƒì„¸ ë°ì´í„° í”Œë¡œìš°

### 1. ì´ˆê¸°í™” ë‹¨ê³„
```
main.py
  â”œâ”€ LLM ì´ˆê¸°í™” (ChatOpenAI)
  â”œâ”€ Search Tool ì´ˆê¸°í™” (TavilySearchResults)
  â””â”€ Query Parameters ì„¤ì •
      â”œâ”€ region: "í•œêµ­"
      â”œâ”€ period: "2024"
      â”œâ”€ companies: ["Tesla", "í˜„ëŒ€ì°¨", "BYD"]
      â””â”€ keywords: ["ì „ê¸°ì°¨", "ì „ê¸°ìë™ì°¨", "EV"]
```

### 2. Supervisor Agent ì‹¤í–‰
```
SupervisorAgent.coordinate(query_params)
  â”‚
  â”œâ”€ 4ê°œ ì „ë¬¸ ì—ì´ì „íŠ¸ ì´ˆê¸°í™”
  â”‚   â”œâ”€ survey_agent = create_survey_agent(llm, search_tool)
  â”‚   â”œâ”€ market_agent = create_market_agent(llm)
  â”‚   â”œâ”€ policy_agent = create_policy_agent(llm)
  â”‚   â””â”€ company_agent = create_company_agent(llm, search_tool)
  â”‚
  â”œâ”€ LangGraph Workflow êµ¬ì¶•
  â”‚   â”œâ”€ add_node("fan_out", self._fan_out_node)
  â”‚   â”œâ”€ add_node("fan_in", self._fan_in_node)
  â”‚   â””â”€ set_entry_point("fan_out") â†’ "fan_in" â†’ END
  â”‚
  â””â”€ Workflow ì‹¤í–‰
      â””â”€ ë°˜í™˜: SupervisedState
```

### 3. Fan-Out ë…¸ë“œ (ë³‘ë ¬ ì‹¤í–‰)
```
_fan_out_node(state)
  â”‚
  â”œâ”€ ThreadPoolExecutor(max_workers=4) ìƒì„±
  â”‚
  â”œâ”€ ë³‘ë ¬ ì‘ì—… ì œì¶œ
  â”‚   â”œâ”€ future1 = executor.submit(survey_agent.analyze, query_params)
  â”‚   â”œâ”€ future2 = executor.submit(market_agent.analyze, query_params)
  â”‚   â”œâ”€ future3 = executor.submit(policy_agent.analyze, query_params)
  â”‚   â””â”€ future4 = executor.submit(company_agent.analyze, query_params)
  â”‚
  â””â”€ ê²°ê³¼ ìˆ˜ì§‘ (as_completed)
      â”œâ”€ survey_result: AgentResult
      â”œâ”€ market_result: AgentResult
      â”œâ”€ policy_result: AgentResult
      â””â”€ company_result: AgentResult
```

### 4. ê° ì—ì´ì „íŠ¸ ë‚´ë¶€ ë™ì‘

#### Survey Agent
```
analyze(query_params)
  â”œâ”€ LangGraph ì›Œí¬í”Œë¡œìš° ì‹¤í–‰
  â”‚   â”œâ”€ agent_collect: ë„¤ì´ë²„ë‰´ìŠ¤, ìœ íŠœë¸Œ, íŠ¸ìœ„í„° ë°ì´í„° ìˆ˜ì§‘
  â”‚   â”œâ”€ agent_classify: ì´ìŠˆ ë¶„ë¥˜ (LLM)
  â”‚   â”œâ”€ agent_sentiment: ê°ì • ë¶„ì„ (LLM)
  â”‚   â”œâ”€ agent_trend: íŠ¸ë Œë“œ í•´ì„ (LLM)
  â”‚   â””â”€ agent_report: ë³´ê³ ì„œ ìƒì„± ë° PDF ì €ì¥
  â”‚
  â””â”€ ë°˜í™˜: AgentResult
      â”œâ”€ agent_name: "Survey Agent"
      â”œâ”€ status: "success"
      â”œâ”€ data: { trend_report }
      â””â”€ summary: "ì—¬ë¡ ì¡°ì‚¬ ê²°ê³¼ ìš”ì•½..."
```

#### Market Agent
```
analyze(query_params)
  â”œâ”€ LangGraph ì›Œí¬í”Œë¡œìš° ì‹¤í–‰
  â”‚   â”œâ”€ query_builder: ê²€ìƒ‰ ì¿¼ë¦¬ ìƒì„± (ê¸€ë¡œë²Œ, ë¶ë¯¸, ìœ ëŸ½, ì•„ì‹œì•„, í•œêµ­)
  â”‚   â”œâ”€ tavily_search: Tavily APIë¡œ ê²€ìƒ‰ (ìµœëŒ€ 25ê°œ ì¿¼ë¦¬)
  â”‚   â”œâ”€ llm_analyze: LLM ë¶„ì„
  â”‚   â””â”€ struct_result: ê²°ê³¼ êµ¬ì¡°í™”
  â”‚
  â””â”€ ë°˜í™˜: AgentResult
      â”œâ”€ agent_name: "Market Agent"
      â”œâ”€ status: "success"
      â”œâ”€ data: { executive_summary, global_analysis, korea_analysis, ... }
      â””â”€ summary: "ì‹œì¥ ë¶„ì„ ì „ë¬¸..."
```

#### Policy Agent
```
analyze(query_params)
  â”œâ”€ ê²€ìƒ‰ ì¿¼ë¦¬ ìƒì„± (ë‹¤ì¤‘ ì§€ì—­ ì§€ì›)
  â”œâ”€ Tavily ê²€ìƒ‰ (ìµœëŒ€ 15ê°œ ì¿¼ë¦¬)
  â”œâ”€ LLM ë¶„ì„ (POLICY_ANALYZE_PROMPT)
  â””â”€ ë°˜í™˜: AgentResult
      â”œâ”€ agent_name: "Policy Agent"
      â”œâ”€ status: "success"
      â”œâ”€ data: { policies, subsidies, regulations, market_impact }
      â””â”€ summary: "ì •ì±… ë¶„ì„ ì „ë¬¸..."
```

#### Company Agent
```
analyze(query_params)
  â”œâ”€ ê° ê¸°ì—…ë³„ ë°˜ë³µ
  â”‚   â”œâ”€ ê²€ìƒ‰ ì¿¼ë¦¬ ìƒì„± (ì‹¤ì , ì‹œì¥ì ìœ ìœ¨, ë‰´ìŠ¤, ì£¼ê°€, ìƒì‚°ëŸ‰)
  â”‚   â”œâ”€ Tavily ê²€ìƒ‰ (ì¿¼ë¦¬ë‹¹ ìµœëŒ€ 5ê°œ ê²°ê³¼)
  â”‚   â””â”€ LLM ë¶„ì„ (COMPANY_ANALYZE_PROMPT)
  â”‚
  â””â”€ ë°˜í™˜: AgentResult
      â”œâ”€ agent_name: "Company Agent"
      â”œâ”€ status: "success"
      â”œâ”€ data: { companies, reports_count, full_report }
      â””â”€ summary: "ê¸°ì—… ë¶„ì„ ìš”ì•½..."
```

### 5. Fan-In ë…¸ë“œ (ê²°ê³¼ í†µí•©)
```
_fan_in_node(state)
  â”œâ”€ ê° ì—ì´ì „íŠ¸ ê²°ê³¼ ê²€ì¦
  â”‚   â”œâ”€ survey_result.status == "success" ? âœ… : âŒ
  â”‚   â”œâ”€ market_result.status == "success" ? âœ… : âŒ
  â”‚   â”œâ”€ policy_result.status == "success" ? âœ… : âŒ
  â”‚   â””â”€ company_result.status == "success" ? âœ… : âŒ
  â”‚
  â””â”€ SupervisedState ì—…ë°ì´íŠ¸
      â”œâ”€ survey_result
      â”œâ”€ market_result
      â”œâ”€ policy_result
      â”œâ”€ company_result
      â””â”€ messages: ["Fan-In ì™„ë£Œ: ..."]
```

### 6. Report Generator Agent ì‹¤í–‰
```
generate_report(state, output_filename)
  â”‚
  â”œâ”€ 1ë‹¨ê³„: ì—ì´ì „íŠ¸ ê²°ê³¼ ì¶”ì¶œ ë° í¬ë§·íŒ…
  â”‚   â”œâ”€ survey_result â†’ survey_text (ìš”ì•½ ë˜ëŠ” ë°ì´í„°)
  â”‚   â”œâ”€ market_result â†’ market_text
  â”‚   â”œâ”€ policy_result â†’ policy_text
  â”‚   â””â”€ company_result â†’ company_text
  â”‚
  â”œâ”€ 2ë‹¨ê³„: LLM ì¢…í•© ë¶„ì„ (REPORT_GENERATOR_PROMPT)
  â”‚   â”œâ”€ ì…ë ¥: 4ê°œ ì—ì´ì „íŠ¸ ê²°ê³¼
  â”‚   â”œâ”€ LLM í˜¸ì¶œ: ChatOpenAI + ChatPromptTemplate
  â”‚   â””â”€ ì¶œë ¥: report_markdown (ì „ë¬¸ ë³´ê³ ì„œ)
  â”‚
  â”œâ”€ 3ë‹¨ê³„: Markdown íŒŒì¼ ì €ì¥
  â”‚   â””â”€ outputs/reports/ev_market_report_YYYYMMDD_HHMMSS.md
  â”‚
  â”œâ”€ 4ë‹¨ê³„: PDF ìƒì„± (PDFGenerator)
  â”‚   â”œâ”€ markdown_to_pdf(report_markdown, filename, title)
  â”‚   â”œâ”€ Markdown íŒŒì‹± (í—¤ë”©, ë¦¬ìŠ¤íŠ¸, í…ìŠ¤íŠ¸)
  â”‚   â”œâ”€ ReportLabìœ¼ë¡œ PDF ë¹Œë“œ
  â”‚   â””â”€ outputs/reports/ev_market_report_YYYYMMDD_HHMMSS.pdf
  â”‚
  â””â”€ ë°˜í™˜: Dict
      â”œâ”€ status: "success"
      â”œâ”€ report_markdown: "ì „ì²´ ë³´ê³ ì„œ..."
      â”œâ”€ markdown_path: "íŒŒì¼ ê²½ë¡œ"
      â””â”€ pdf_path: "PDF ê²½ë¡œ"
```

## ğŸ“Š ìƒíƒœ ê´€ë¦¬ (State)

### SupervisedState
```python
{
    # ì…ë ¥ íŒŒë¼ë¯¸í„°
    "query_params": {
        "region": "í•œêµ­",
        "period": "2024",
        "companies": ["Tesla", "í˜„ëŒ€ì°¨", "BYD"],
        "keywords": ["ì „ê¸°ì°¨", "ì „ê¸°ìë™ì°¨"]
    },
    
    # ì—ì´ì „íŠ¸ ê²°ê³¼
    "survey_result": AgentResult(...),
    "market_result": AgentResult(...),
    "policy_result": AgentResult(...),
    "company_result": AgentResult(...),
    
    # ìµœì¢… ê²°ê³¼
    "final_report": None,  # Report Generatorê°€ ì±„ì›€
    
    # ë¡œê·¸
    "messages": [
        "[timestamp] Fan-Out ì™„ë£Œ: 4ê°œ ì—ì´ì „íŠ¸ ì‹¤í–‰",
        "[timestamp] Fan-In ì™„ë£Œ: Survey ì„±ê³µ, Market ì„±ê³µ, ..."
    ]
}
```

### AgentResult
```python
@dataclass
class AgentResult:
    agent_name: str           # "Survey Agent"
    status: str               # "success" | "failed" | "in_progress"
    data: Dict                # êµ¬ì¡°í™”ëœ ë°ì´í„°
    summary: str              # ìš”ì•½ (LLMì´ ìƒì„±í•œ ì „ë¬¸)
    timestamp: datetime       # ì‹¤í–‰ ì‹œê°„
    error_message: Optional[str] = None  # ì˜¤ë¥˜ ë©”ì‹œì§€
```

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬

### í•µì‹¬ í”„ë ˆì„ì›Œí¬
- **LangGraph**: ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ (StateGraph, ë…¸ë“œ/ì—£ì§€ ê´€ë¦¬)
- **LangChain**: LLM í†µí•© (ChatOpenAI, ChatPromptTemplate, Tools)

### LLM ë° ë„êµ¬
- **OpenAI GPT-4o-mini**: ìì—°ì–´ ë¶„ì„, ìƒì„±, ë¶„ë¥˜, ê°ì • ë¶„ì„
- **Tavily API**: ì‹¤ì‹œê°„ ì›¹ ê²€ìƒ‰ (TavilySearchResults)

### ë°ì´í„° ìˆ˜ì§‘
- **YouTube API**: ëŒ“ê¸€ ìˆ˜ì§‘ (googleapiclient)
- **Twitter API v2**: íŠ¸ìœ— ìˆ˜ì§‘ (tweepy)
- **LLM ë°ì´í„° ìƒì„±**: API ì‹¤íŒ¨ ì‹œ LLMì´ í˜„ì‹¤ì ì¸ ìƒ˜í”Œ ìƒì„±

### ë³´ê³ ì„œ ìƒì„±
- **ReportLab**: PDF ìƒì„± (SimpleDocTemplate, Paragraph, Table)
- **Markdown**: ì¤‘ê°„ í¬ë§· (í…ìŠ¤íŠ¸ íŒŒì¼ë¡œë„ ì €ì¥)

### ë³‘ë ¬ ì²˜ë¦¬
- **ThreadPoolExecutor**: 4ê°œ ì—ì´ì „íŠ¸ ë™ì‹œ ì‹¤í–‰ (concurrent.futures)

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### 1. ë³‘ë ¬ ì‹¤í–‰
- Supervisor Agentê°€ 4ê°œ ì—ì´ì „íŠ¸ë¥¼ **ë™ì‹œì—** ì‹¤í–‰ (ThreadPoolExecutor)
- ì˜ˆìƒ ì‹œê°„ ë‹¨ì¶•: ì§ë ¬ ì‹¤í–‰ ëŒ€ë¹„ **ì•½ 70% ê°ì†Œ**

### 2. API í˜¸ì¶œ ìµœì í™”
- ê²€ìƒ‰ ì¿¼ë¦¬ ìˆ˜ ì œí•œ (Survey: 15ê°œ, Market: 15ê°œ, Policy: 15ê°œ)
- Tavily API max_results ìµœì í™” (3-5ê°œ)

### 3. ìºì‹± ë° ì¬ì‚¬ìš©
- LLM ì¸ìŠ¤í„´ìŠ¤ ì¬ì‚¬ìš© (ì´ˆê¸°í™” 1íšŒ)
- ê²€ìƒ‰ ê²°ê³¼ ì¤‘ë³µ ì œê±°

## ğŸ“ í•µì‹¬ ë””ìì¸ íŒ¨í„´

### 1. Fan-Out/Fan-In íŒ¨í„´
- **Fan-Out**: í•˜ë‚˜ì˜ ì‘ì—…ì„ ì—¬ëŸ¬ í•˜ìœ„ ì‘ì—…ìœ¼ë¡œ ë¶„ì‚°
- **Fan-In**: ì—¬ëŸ¬ í•˜ìœ„ ì‘ì—…ì˜ ê²°ê³¼ë¥¼ í•˜ë‚˜ë¡œ í†µí•©
- **ì¥ì **: ë³‘ë ¬ì„± ê·¹ëŒ€í™”, ê° ì—ì´ì „íŠ¸ ë…ë¦½ì„± ë³´ì¥

### 2. Agent Factory íŒ¨í„´
- ê° ì—ì´ì „íŠ¸ë¥¼ `create_xxx_agent()` íŒ©í† ë¦¬ í•¨ìˆ˜ë¡œ ìƒì„±
- ì˜ì¡´ì„± ì£¼ì… (LLM, search_tool ì „ë‹¬)
- **ì¥ì **: í…ŒìŠ¤íŠ¸ ìš©ì´, ìœ ì—°í•œ êµ¬ì„±

### 3. State ê´€ë¦¬ íŒ¨í„´
- ë¶ˆë³€ ìƒíƒœ ì „ë‹¬ (ê° ë…¸ë“œê°€ ìƒˆë¡œìš´ ìƒíƒœ ë°˜í™˜)
- TypedDict ì‚¬ìš© (íƒ€ì… ì•ˆì „ì„±)
- **ì¥ì **: ë””ë²„ê¹… ìš©ì´, ìƒíƒœ ì¶”ì  ê°€ëŠ¥

### 4. Pipeline íŒ¨í„´
- Survey Agent ë‚´ë¶€: collect â†’ classify â†’ sentiment â†’ trend â†’ report
- Report Generator: extract â†’ analyze â†’ format â†’ generate
- **ì¥ì **: ê° ë‹¨ê³„ ë…ë¦½ì , ì˜¤ë¥˜ ê²©ë¦¬

## ğŸš€ í™•ì¥ ê°€ëŠ¥ì„±

### ì¶”ê°€ ê°€ëŠ¥í•œ ì—ì´ì „íŠ¸
- **Financial Agent**: ì¬ë¬´ ë¶„ì„ (ì£¼ê°€, íˆ¬ì ì§€í‘œ)
- **Technology Agent**: ê¸°ìˆ  íŠ¸ë Œë“œ ë¶„ì„ (ë°°í„°ë¦¬, ììœ¨ì£¼í–‰)
- **Supply Chain Agent**: ê³µê¸‰ë§ ë¶„ì„ (ì›ìì¬, ë¬¼ë¥˜)

### ì¶”ê°€ ê°€ëŠ¥í•œ ë°ì´í„° ì†ŒìŠ¤
- Reddit, LinkedIn, GitHub Issues
- ê¸°ì—… ê³µì‹œ, IR ìë£Œ
- íŠ¹í—ˆ ë°ì´í„°, ë…¼ë¬¸

### ê³ ê¸‰ ê¸°ëŠ¥
- ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° (ê²°ê³¼ë¥¼ ì ì§„ì ìœ¼ë¡œ í‘œì‹œ)
- ì›¹ ëŒ€ì‹œë³´ë“œ (Streamlit, Gradio)
- ì´ë©”ì¼ ìë™ ë°œì†¡
- ì •ê¸° ì‹¤í–‰ (ìŠ¤ì¼€ì¤„ë§)

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- ê° ì—ì´ì „íŠ¸ ë…ë¦½ ì‹¤í–‰ (`python agents/surveyAgent.py`)
- íŒ©í† ë¦¬ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸

### í†µí•© í…ŒìŠ¤íŠ¸
- Supervisor Agent í…ŒìŠ¤íŠ¸ (4ê°œ ì—ì´ì „íŠ¸ ì¡°ìœ¨)
- Report Generator í…ŒìŠ¤íŠ¸ (ë”ë¯¸ ë°ì´í„° ì‚¬ìš©)

### ì „ì²´ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
- `python main.py` ì‹¤í–‰
- ì‹¤ì œ API í˜¸ì¶œ ë° PDF ìƒì„± í™•ì¸

---

**ì‘ì„±ì¼**: 2024-10-23
**ë²„ì „**: 1.0

